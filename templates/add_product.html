<!DOCTYPE html>
<html lang="hu">
<head>
  <meta charset="UTF-8" />
  <title>PC DADDY â€“ Add Product</title>
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    @keyframes fadeIn {
      from { opacity: 0; transform: scale(0.95); }
      to { opacity: 1; transform: scale(1); }
    }
    .animate-fadeIn {
      animation: fadeIn 0.3s ease-out forwards;
    }
  </style>
</head>

<body class="bg-gray-100 text-gray-900">
<header class="bg-black text-white sticky top-0 z-50 shadow-lg">
  <div class="max-w-7xl mx-auto flex items-center justify-between px-6 h-20">

    <div class="flex items-center gap-4">
      <img src="../static/images/logÃ³.png" alt="PC DADDY logÃ³" class="h-20 sm:h-24 md:h-28 w-auto">
      <div class="leading-tight">
        <h1 class="text-2xl font-extrabold text-green-500 tracking-wide">PC DADDY</h1>
        <p class="text-xs text-gray-400">PrÃ©mium PC webshop</p>
      </div>
    </div>

    <div class="flex-1 mx-6">
      <input 
        type="text"
        placeholder="KeresÃ©s alkatrÃ©szek, konfigurÃ¡ciÃ³k kÃ¶zÃ¶tt..."
        class="w-full px-4 py-2 rounded-md text-black focus:outline-none focus:ring-2 focus:ring-green-500"
      />
    </div>

    <div class="flex items-center">
      <button class="text-3xl hover:text-green-500 transition relative">
        ðŸ›’
        <span class="absolute -top-2 -right-2 bg-green-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center">0</span>
      </button>
    </div>

  </div>
</header>
<div class="max-w-2xl mx-auto mt-16 mb-20 bg-white rounded-3xl shadow-2xl p-10 animate-fadeIn">

  <h1 class="text-3xl font-extrabold text-center text-gray-800 mb-2">
    âž• Add New Product
  </h1>
  <p class="text-center text-gray-500 mb-8 text-sm">
    Add a new product to your webshop
  </p>

  <form method="POST" action="/add-product" enctype="multipart/form-data" class="space-y-7">
    <div>
      <label class="block text-sm font-semibold text-gray-700 mb-1">
        Product name
      </label>
      <input
        type="text"
        name="name"
        required
        placeholder="e.g. RTX 4070 Ti"
        class="w-full px-4 py-3 rounded-xl border border-gray-300
               focus:outline-none focus:ring-2 focus:ring-green-500
               focus:border-green-500 transition"
      />
    </div>
    <div>
      <label class="block text-sm font-semibold text-gray-700 mb-1">
        Description
      </label>
      <textarea
        name="description"
        rows="4"
        placeholder="Short product description..."
        class="w-full px-4 py-3 rounded-xl border border-gray-300
               focus:outline-none focus:ring-2 focus:ring-green-500
               focus:border-green-500 transition resize-none"
      ></textarea>
    </div>
    <div>
      <label class="block text-sm font-semibold text-gray-700 mb-1">
        Price (HUF)
      </label>
      <input
        type="number"
        step="0.01"
        name="price"
        required
        placeholder="e.g. 349999"
        class="w-full px-4 py-3 rounded-xl border border-gray-300
               focus:outline-none focus:ring-2 focus:ring-green-500
               focus:border-green-500 transition"
      />
    </div>
    <div>
      <label class="block text-sm font-semibold text-gray-700 mb-1">
        Category
      </label>
      <select
        name="category_id"
        required
        class="w-full px-4 py-3 rounded-xl border border-gray-300
               bg-white focus:outline-none focus:ring-2 focus:ring-green-500
               focus:border-green-500 transition"
      >
        {% for category in categories %}
          <option value="{{ category.id }}">{{ category.name }}</option>
        {% endfor %}
      </select>
    </div>
    <div>
      <label class="block text-sm font-semibold text-gray-700 mb-2">
        Product image
      </label>
      <input
        type="file"
        name="image"
        accept="image/*"
        required
        onchange="previewImage(event)"
        class="w-full text-sm text-gray-600
               file:mr-4 file:py-2.5 file:px-5
               file:rounded-xl file:border-0
               file:text-sm file:font-semibold
               file:bg-green-500 file:text-white
               hover:file:bg-green-600 transition cursor-pointer"
      />

      <div class="mt-4 hidden" id="previewBox">
        <p class="text-xs text-gray-500 mb-2">Preview:</p>
        <img
          id="imagePreview"
          class="w-48 h-48 object-cover rounded-xl border shadow-md"
          alt="Preview"
        >
      </div>
    </div>
    <button
      type="submit"
      class="w-full bg-green-500 hover:bg-green-600
             text-white font-bold py-3 rounded-xl
             shadow-lg transition transform hover:scale-[1.02]
             active:scale-[0.98]"
    >
      âœ… Add Product
    </button>

  </form>
</div>
<script>
  function previewImage(event) {
    const previewBox = document.getElementById("previewBox");
    const img = document.getElementById("imagePreview");
    img.src = URL.createObjectURL(event.target.files[0]);
    previewBox.classList.remove("hidden");
  }
</script>

</body>
</html>
